<html>
  <head>
    <script type="text/javascript" src="./smoothie.js"></script>
    <script type="text/javascript" src="./kc.js"></script>
    <script type="text/javascript">

      var angle = new TimeSeries();

      function k(evt){
	if (evt){
	    var kc = evt.keyCode;
	}else{
	    var kc = event.keyCode;
	}
	var chr = String.fromCharCode(kc);
        if (headangle[kc]) {
          angle.append(new Date().getTime(), headangle[kc]);
        }
  	  document.getElementById("result").innerHTML += chr+" ";
      }

      function createTimeline() {
        var chart = new SmoothieChart();
        document.onkeydown = k;      
        chart.addTimeSeries(angle, { strokeStyle: 'rgba(0, 0, 255, 1)', fillStyle: 'rgba(0, 0, 255, 0.2)', lineWidth: 4 });
        chart.streamTo(document.getElementById("chart"), 500);
      }

    </script>
  </head>
  <body onload="createTimeline()" style="background-color:#f0f0f0">
    <h1>SleepTyping</h1>
    <h2>Tsubasa Yumura / @yumu19</h2>
    <p>￥980のシリコンキーボードで睡眠ログセンサーをつくってみました。なんかトラブってたら、お手数ですが @yumu19 まで連絡くれるとうれしいです</p>
    <canvas id="chart" width="600" height="400"></canvas>
    <div id="result"> </div>
    <input type="button" value="reload" onclick="location.reload();" /> 
  </body>
</html>
